<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Block/Unblock Users</title>
  <style>
    /* General Styling */
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }

    /* Header Styling */
    header {
      background-color: #512da8; /* Dark blue color */
      padding: 20px;
      text-align: center;
      color: #fff;
    }

    /* Container Styling */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr 3fr;
      gap: 20px;
    }

        /* Side Menu Styling */
    .side-menu {
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      color: #512da8; /* Dark blue color for default text color */
    }

    .side-menu ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    .side-menu li {
      margin-bottom: 10px;
    }

    .side-menu a {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      color: #512da8; /* Dark blue color */
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .side-menu a:hover {
      background-color: #e1bee7;
    }

    .side-menu a i {
      margin-right: 10px;
    }

    .side-menu a.active {
      background-color: #e1bee7;
      color: #fff;
      font-weight: bold;
    }

    /* Block/Unblock Page Styling */
    .block-unblock-page {
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      color: #512da8; /* Dark blue color for default text color */
    }

    .block-unblock-page h2 {
      color: #512da8; /* Dark blue color for the title */
      margin-top: 0;
    }

    .user-list {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .user-list th,
    .user-list td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    .user-list th {
      background-color: #f5f5f5; /* Light gray color for table header */
    }

    .user-list td.user-status {
      font-weight: bold;
    }

    .user-list td.user-status span {
      padding: 5px 10px;
      border-radius: 5px;
    }

    .user-list td.user-status .blocked {
      background-color: #ffcccc; /* Light red color for blocked user status */
      color: #c70039; /* Dark red color for text */
    }

    .user-list td.user-status .unblocked {
      background-color: #ccffcc; /* Light green color for unblocked user status */
      color: #28a745; /* Dark green color for text */
    }

    .block-button,
    .unblock-button {
      background-color: #c70039; /* Dark red color for the button */
      color: #fff;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .block-button:hover,
    .unblock-button:hover {
      background-color: #9a0036; /* Darker red shade on hover */
    }

    /* Pagination Styling */
    .pagination {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .pagination a {
      color: #512da8; /* Dark blue color */
      background-color: #fff;
      border: 1px solid #ddd;
      padding: 8px 12px;
      margin: 0 5px;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .pagination a:hover {
      background-color: #e1bee7;
    }

    .pagination .active {
      background-color: #e1bee7;
      color: #fff;
      font-weight: bold;
    }

    /* Responsive Styling ... (same as before) */
  </style>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
  <header>
    <h1>Block/Unblock Users</h1>
  </header>

  <div class="container">
    <!-- Side Menu -->
    <div class="side-menu">
        <ul>
            <li><a href="main-admin-dashboard.html"><i class="material-icons">dashboard</i>Dashboard</a></li>
            <li><a href="users.html"><i class="material-icons">supervisor_account</i>Users</a></li>
            <li><a href="companies.html"><i class="material-icons">business</i>Companies</a></li>
            <li><a href="register-new-user.html"><i class="material-icons">person_add</i>Register New User</a></li>
            <li><a href="edit.html"><i class="material-icons">build</i>Modify Data</a></li>
            <li><a href="create-report.html"><i class="material-icons">create</i>Make a Report</a></li>
            <li><a href="block.html" class="active"><i class="material-icons">block</i>Block/Unblock User</a></li>
          </ul>
    </div>

    <main>
      <div class="block-unblock-page">
        <h2>User List</h2>
        <table class="user-list">
          <thead>
            <tr>
              <th>Name</th>
              <th>Companies Owned</th>
              <th>Email</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="usersListBody">
            <!-- Dynamic user data will be populated here -->
          </tbody>
        </table>

        <!-- Pagination -->
        <div class="pagination">
          <a href="#" class="active">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <a href="#">4</a>
          <a href="#">5</a>
        </div>

        <!-- Confirmation Modal (implement this part as per previous code) -->
      </div>
    </main>
  </div>

  <!-- ... (Previous HTML code) ... -->

<!-- ... Your existing HTML code (up to the sample user data) ... -->

<script>
    // Function to create a user row in the table
    function createUserRow(user) {
      const userRow = document.createElement('tr');
  
      // User's Name
      const userNameCell = document.createElement('td');
      userNameCell.textContent = user.personInCharge;
  
      // Companies Owned
      const companiesOwnedCell = document.createElement('td');
      const companiesOwnedList = document.createElement('ul');
      const numCompaniesOwned = user.companies.length;
  
    //   // Display the number of companies owned
    //   const companiesOwnedCount = document.createElement('p');
    //   companiesOwnedCount.textContent = `Number of Companies Owned: ${numCompaniesOwned}`;
    //   companiesOwnedCell.appendChild(companiesOwnedCount);
  
      // List the companies owned
      user.companies.forEach(company => {
        const listItem = document.createElement('li');
        listItem.textContent = `${company.companyName} (${company.companyLabel})`;
        companiesOwnedList.appendChild(listItem);
      });
      companiesOwnedCell.appendChild(companiesOwnedList);
  
      // Email
      const emailCell = document.createElement('td');
      emailCell.textContent = user.email;
  
      // Status
      const statusCell = document.createElement('td');
      statusCell.classList.add('user-status');
      const statusSpan = document.createElement('span');
      statusSpan.textContent = user.isBlocked ? 'Blocked' : 'Unblocked';
      statusSpan.classList.add(user.isBlocked ? 'blocked' : 'unblocked');
      statusCell.appendChild(statusSpan);
  
      // Actions
      const actionsCell = document.createElement('td');
      const actionButton = document.createElement('button');
      actionButton.classList.add(user.isBlocked ? 'unblock-button' : 'block-button');
      actionButton.textContent = user.isBlocked ? 'Unblock' : 'Block';
      actionsCell.appendChild(actionButton);
  
      userRow.appendChild(userNameCell);
      userRow.appendChild(companiesOwnedCell);
      userRow.appendChild(emailCell);
      userRow.appendChild(statusCell);
      userRow.appendChild(actionsCell);
  
      return userRow;
    }
  
    // Replace this with the actual user data
    const userDataFromUsersPage = [
    {
        username: 'ahmedkhalid',
        password: 'password753',
        companies: [
          {
            companyName: 'Khalid Engineering',
            companyLabel: 'Private Limited',
            registrationNumber: '493847561'
          },
          {
            companyName: 'Khaldun',
            companyLabel: 'Private Limited',
            registrationNumber: '967854321'
          },
          {
            companyName: 'Burger (International)',
            companyLabel: '',
            registrationNumber: '456789123'
          }
        ],
        personInCharge: 'Ahmed Khalid',
        phoneNumber: '+60123456789',
        address: '456 Jalan Utama',
        secondaryAddress: 'Block A',
        email: 'ahmedkhalid@example.com',
        isBlocked: false
      },
      {
        username: 'muhammadali',
        password: 'password246',
        companies: [
          {
            companyName: 'Ali Enterprises',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '293847561'
          }
        ],
        personInCharge: 'Muhammad Ali',
        phoneNumber: '+60123456789',
        address: '456 Jalan Utama',
        secondaryAddress: 'Block A',
        email: 'muhammadali@example.com',
        isBlocked: false
      },
      {
        username: 'nurazizah',
        password: 'password753',
        companies: [
          {
            companyName: 'Azizah Trading',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '918273645'
          }
        ],
        personInCharge: 'Nur Azizah',
        phoneNumber: '+60129876543',
        address: '789 Jalan Mega',
        secondaryAddress: 'Suite 101',
        email: 'nurazizah@example.com',
        isBlocked: true
      },
      {
        username: 'amirahmed',
        password: 'password864',
        companies: [
          {
            companyName: 'Amirah Holdings',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '657483920'
          }
        ],
        personInCharge: 'Amir Ahmed',
        phoneNumber: '+60123456789',
        address: '293 Jalan Rakyat',
        secondaryAddress: 'Block B',
        email: 'amirahmed@example.com',
        isBlocked: false
      },
      {
        username: 'sitiyusof',
        password: 'password951',
        companies: [
          {
            companyName: 'Yusof Corporation',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '183746592'
          }
        ],
        personInCharge: 'Siti Yusof',
        phoneNumber: '+60129876543',
        address: '293 Jalan Perdana',
        secondaryAddress: 'Block C',
        email: 'sitiyusof@example.com',
        isBlocked: false
      },
      {
        username: 'ahmadali',
        password: 'password753',
        companies: [
          {
            companyName: 'Ali Group',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '485739201'
          }
        ],
        personInCharge: 'Ahmad Ali',
        phoneNumber: '+60123456789',
        address: '789 Jalan Maju',
        secondaryAddress: 'Suite 201',
        email: 'ahmadali@example.com',
        isBlocked: true
      },
      {
        username: 'nurasma',
        password: 'password864',
        companies: [
          {
            companyName: 'Asma Corporation',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '374829506'
          }
        ],
        personInCharge: 'Nur Asma',
        phoneNumber: '+60129876543',
        address: '293 Jalan Gemilang',
        secondaryAddress: 'Block D',
        email: 'nurasma@example.com',
        isBlocked: false
      },
      {
        username: 'azmikhalid',
        password: 'password951',
        companies: [
          {
            companyName: 'Khalid Holdings',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '273849506'
          }
        ],
        personInCharge: 'Azmi Khalid',
        phoneNumber: '+60123456789',
        address: '123 Jalan Indah',
        secondaryAddress: 'Apt 2C',
        email: 'azmikhalid@example.com',
        isBlocked: true
      },
      {
        username: 'norazizah',
        password: 'password753',
        companies: [
          {
            companyName: 'Azizah Industries',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '839274651'
          }
        ],
        personInCharge: 'Nor Azizah',
        phoneNumber: '+60129876543',
        address: '456 Jalan Seri',
        secondaryAddress: 'Suite 301',
        email: 'norazizah@example.com',
        isBlocked: false
      },
      {
        username: 'amirahmad',
        password: 'password864',
        companies: [
          {
            companyName: 'Amirah Corporation',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '485739203'
          }
        ],
        personInCharge: 'Amir Ahmad',
        phoneNumber: '+60123456789',
        address: '789 Jalan Indah',
        secondaryAddress: 'Suite 401',
        email: 'amirahmad@example.com',
        isBlocked: true
      },
      {
        username: 'nursiti',
        password: 'password951',
        companies: [
          {
            companyName: 'Siti Holdings',
            companyLabel: 'Sdn Bhd',
            registrationNumber: '374829508'
          }
        ],
        personInCharge: 'Nur Siti',
        phoneNumber: '+60129876543',
        address: '123 Jalan Seri',
        secondaryAddress: 'Apt 3B',
        email: 'nursiti@example.com',
        isBlocked: false
      },
      
      // Add more user data as needed...
    ];
  
    const usersPerPage = 5;
    let currentPage = 1;
    const totalUsers = userDataFromUsersPage.length;
    const totalPages = Math.ceil(totalUsers / usersPerPage);
  
    function displayUsers(pageNumber) {
      const usersListBody = document.getElementById('usersListBody');
      usersListBody.innerHTML = '';
  
      const startIndex = (pageNumber - 1) * usersPerPage;
      const endIndex = Math.min(startIndex + usersPerPage, totalUsers);
      for (let i = startIndex; i < endIndex; i++) {
        const user = userDataFromUsersPage[i];
        const userRow = createUserRow(user);
        usersListBody.appendChild(userRow);
      }
    }
  
    function updatePagination() {
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';
  
      for (let i = 1; i <= totalPages; i++) {
        const pageLink = `<a href="#" onclick="changePage(${i})" class="${i === currentPage ? 'active' : ''}">${i}</a>`;
        pagination.innerHTML += pageLink;
      }
    }
  
    function changePage(pageNumber) {
      currentPage = pageNumber;
      displayUsers(currentPage);
      updatePagination();
    }
  
    // Event listener for block/unblock buttons
    document.addEventListener('click', function (event) {
      if (event.target.classList.contains('block-button') || event.target.classList.contains('unblock-button')) {
        const userIndex = event.target.closest('tr').rowIndex - 1;
        const user = userDataFromUsersPage[userIndex];
        user.isBlocked = !user.isBlocked;
  
        // Re-render the user rows with updated data
        displayUsers(currentPage);
      }
    });
  
    // Initial display
    displayUsers(currentPage);
    updatePagination();
  </script>
  
  <!-- ... Rest of your HTML code ... -->
  
  
</body>

</html>
